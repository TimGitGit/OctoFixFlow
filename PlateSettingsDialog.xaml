<UserControl
    x:Class="OctoFixFlow.PlateSettingsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:OctoFixFlow"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="1300"
    d:DesignWidth="750"
    mc:Ignorable="d">
    <UserControl.Resources>
        <local:NumberToBooleanConverter x:Key="NumberToBooleanConverter" />
        <local:RowColumnMultiplierConverter x:Key="RowColumnMultiplierConverter" />
        <local:HightAddplierConverter x:Key="HightAddplierConverter" />

        <SolidColorBrush x:Key="PrimaryBlue" Color="#3A5F85" />
        <SolidColorBrush x:Key="PrimaryRed" Color="#FA4616" />
        <!--  输入框样式（带动画）  -->
        <Style x:Key="InputTextBoxStyle" TargetType="{x:Type Control}">
            <Setter Property="Background" Value="#F9F9F9" />
            <Setter Property="BorderBrush" Value="#E0E0E0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Height" Value="40" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Padding" Value="9" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Control}">
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="5">
                            <ScrollViewer x:Name="PART_ContentHost" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <!--  边框颜色动画（不变）  -->
                                            <ColorAnimation
                                                Storyboard.TargetName="border"
                                                Storyboard.TargetProperty="BorderBrush.Color"
                                                To="#FA4616"
                                                Duration="0:0:0.2" />
                                            <!--  边框厚度动画（替换为ThicknessAnimation）  -->
                                            <ThicknessAnimation
                                                Storyboard.TargetName="border"
                                                Storyboard.TargetProperty="BorderThickness"
                                                From="1"
                                                To="1.5"
                                                Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <!--  鼠标悬停效果（不变）  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#CCCCCC" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--  ComboBox样式  -->
        <Style x:Key="InputComboBoxStyle" TargetType="{x:Type ComboBox}">
            <Setter Property="Background" Value="#F9F9F9" />
            <Setter Property="BorderBrush" Value="#E0E0E0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Height" Value="40" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Padding" Value="8" />
            <Setter Property="MinWidth" Value="90" />
            <!--  确保基础宽度  -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ComboBox}">
                        <Grid x:Name="MainGrid" SnapsToDevicePixels="True">
                            <!--  主边框（与TextBox样式一致）  -->
                            <Border
                                x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="5">
                                <Grid>
                                    <!--  显示选中内容  -->
                                    <ContentPresenter
                                        x:Name="ContentSite"
                                        Margin="8,0,30,0"
                                        VerticalAlignment="Center"
                                        Content="{TemplateBinding SelectionBoxItem}"
                                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" />

                                    <!--  下拉按钮（修复消失问题）  -->
                                    <ToggleButton
                                        x:Name="ToggleButton"
                                        Width="30"
                                        Height="30"
                                        Margin="0,5"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Focusable="False"
                                        IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                        <ToggleButton.Template>
                                            <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                <Border
                                                    x:Name="btnBorder"
                                                    Width="20"
                                                    Height="20"
                                                    Background="Transparent"
                                                    CornerRadius="3">
                                                    <!--  下拉箭头（修复消失问题）  -->
                                                    <Path
                                                        x:Name="Arrow"
                                                        Width="8"
                                                        Height="5"
                                                        Data="M0,0 L8,0 L4,5 z"
                                                        Fill="#666666" />
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="btnBorder" Property="Background" Value="#E0E0E0" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </ToggleButton.Template>
                                    </ToggleButton>
                                </Grid>
                            </Border>

                            <!--  下拉弹出框（修复宽度问题）  -->
                            <Popup
                                x:Name="Popup"
                                AllowsTransparency="True"
                                Focusable="False"
                                IsOpen="{TemplateBinding IsDropDownOpen}"
                                Placement="Bottom"
                                PopupAnimation="Slide">
                                <!--  下拉框宽度与主控件一致  -->
                                <Border
                                    x:Name="DropDownBorder"
                                    Width="{Binding ActualWidth, ElementName=MainGrid}"
                                    MaxWidth="{TemplateBinding MaxWidth}"
                                    Background="White"
                                    BorderBrush="#E0E0E0"
                                    BorderThickness="1"
                                    CornerRadius="5">
                                    <ScrollViewer x:Name="DropDownScrollViewer" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                        <ItemsPresenter
                                            x:Name="ItemsPresenter"
                                            Margin="2"
                                            SnapsToDevicePixels="True" />
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>

                        <!--  触发器（与TextBox样式同步）  -->
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation
                                                Storyboard.TargetName="border"
                                                Storyboard.TargetProperty="BorderBrush.Color"
                                                To="#FA4616"
                                                Duration="0:0:0.2" />
                                            <ThicknessAnimation
                                                Storyboard.TargetName="border"
                                                Storyboard.TargetProperty="BorderThickness"
                                                From="1"
                                                To="1.5"
                                                Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#CCCCCC" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#EEEEEE" />
                                <Setter Property="Foreground" Value="#BDBDBD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <!--  下拉选项样式（与主控件同宽）  -->
            <Style.Resources>
                <Style TargetType="{x:Type ComboBoxItem}">
                    <Setter Property="Height" Value="35" />
                    <Setter Property="Padding" Value="12,8" />
                    <!--  内边距适配宽度  -->
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                    <!--  内容拉伸  -->
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                                <Border
                                    x:Name="ItemBorder"
                                    Padding="{TemplateBinding Padding}"
                                    Background="Transparent"
                                    SnapsToDevicePixels="True">
                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="Center" />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="ItemBorder" Property="Background" Value="#FA4616" />
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="ItemBorder" Property="Background" Value="#FFF3E0" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Style.Resources>
        </Style>
        <!--  按钮样式  -->
        <Style x:Key="AccentButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="#FA4616" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Width" Value="100" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="5"
                            SnapsToDevicePixels="True">
                            <ContentPresenter
                                x:Name="contentPresenter"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Content="{TemplateBinding Content}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <!--  鼠标悬停效果  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#D93E12" />
                            </Trigger>
                            <!--  点击效果  -->
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#C23710" />
                                <Setter TargetName="contentPresenter" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <!--  禁用状态  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCCCCC" />
                                <Setter TargetName="contentPresenter" Property="Opacity" Value="0.7" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  退出按钮样式  -->
        <Style
            x:Key="ExitButtonStyle"
            BasedOn="{StaticResource AccentButtonStyle}"
            TargetType="{x:Type Button}">
            <Setter Property="Background" Value="#666666" />
            <Setter Property="Margin" Value="10,0,0,0" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#555555" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#444444" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--  方向选择按钮样式  -->
        <Style x:Key="DirectionButtonStyle" TargetType="ToggleButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border
                            x:Name="border"
                            Width="70"
                            Height="40"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="2"
                            SnapsToDevicePixels="True">
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <!--  选中状态样式（红色背景）  -->
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FF5722" />
                                <!--  红色背景  -->
                                <Setter TargetName="border" Property="BorderBrush" Value="#E64A19" />
                                <!--  深红色边框  -->
                                <Setter Property="Foreground" Value="White" />
                                <!--  白色文字  -->
                            </Trigger>
                            <!--  鼠标悬停样式  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFF3E0" />
                                <!--  浅橙色背景  -->
                            </Trigger>
                            <!--  禁用状态样式  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#EEEEEE" />
                                <Setter Property="Foreground" Value="#BDBDBD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <!--  默认样式  -->
            <Setter Property="Background" Value="#FCFCFC" />
            <Setter Property="BorderBrush" Value="#E0E0E0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Foreground" Value="#333333" />
        </Style>

        <!--  方向选择按钮样式  -->
        <Style x:Key="FlowButtonStyle" TargetType="ToggleButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border
                            x:Name="border"
                            Width="70"
                            Height="40"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="2"
                            SnapsToDevicePixels="True">
                            <ContentPresenter
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <!--  选中状态样式（红色背景）  -->

                            <!--  鼠标悬停样式  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFF3E0" />
                                <!--  浅橙色背景  -->
                            </Trigger>
                            <!--  禁用状态样式  -->
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#EEEEEE" />
                                <Setter Property="Foreground" Value="#BDBDBD" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <!--  默认样式  -->
            <Setter Property="Background" Value="#FCFCFC" />
            <Setter Property="BorderBrush" Value="#E0E0E0" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Foreground" Value="#333333" />
        </Style>
        <!--  顶部工具栏按钮样式  -->
        <Style x:Key="TopToolbarButton" TargetType="Button">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Padding" Value="15,0" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <!--  内容容器  -->
                            <ContentPresenter
                                x:Name="content"
                                Margin="{TemplateBinding Padding}"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

                            <!--  下划线  -->
                            <Rectangle
                                x:Name="underline"
                                Height="3"
                                VerticalAlignment="Bottom"
                                Fill="White"
                                Opacity="0" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="underline" Property="Opacity" Value="1" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="50" />
            <!--  标题行  -->
            <RowDefinition Height="*" />
            <!--  内容行  -->
            <RowDefinition Height="55" />
            <!--  按钮行  -->
        </Grid.RowDefinitions>
        <!--  标题栏  -->
        <Border Grid.Row="0">
            <TextBlock
                Margin="20,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontSize="16"
                FontWeight="Bold"
                Foreground="{StaticResource PrimaryRed}"
                Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingTitle}" />
        </Border>
        <Border Grid.Row="1" Background="{StaticResource PrimaryRed}">
            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                <Button
                    Margin="20,0"
                    Click="transToCons"
                    Style="{StaticResource TopToolbarButton}">
                    <StackPanel Orientation="Horizontal">
                        <Image
                            Width="20"
                            Height="20"
                            Margin="0,0,5,0"
                            Source="/OctoFixFlow;component/images/conSet.png" />
                        <TextBlock Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTitile}" />
                    </StackPanel>
                </Button>
                <Rectangle
                    Width="1"
                    Height="30"
                    Margin="10,0"
                    Fill="White" />
                <Button
                    Margin="20,0"
                    Click="transToLiquid"
                    Style="{StaticResource TopToolbarButton}">
                    <StackPanel Orientation="Horizontal">
                        <Image
                            Width="20"
                            Height="20"
                            Margin="0,0,5,0"
                            Source="/OctoFixFlow;component/images/liquidSet.png" />
                        <TextBlock Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingPipeTitile}" />
                    </StackPanel>
                </Button>
                <Rectangle
                    Width="1"
                    Height="30"
                    Margin="10,0"
                    Fill="White" />
                <Button
                    Margin="20,0"
                    Click="transToControl"
                    Style="{StaticResource TopToolbarButton}">
                    <StackPanel Orientation="Horizontal">
                        <Image
                            Width="20"
                            Height="20"
                            Margin="0,0,5,0"
                            Source="/OctoFixFlow;component/images/handControl.png" />
                        <TextBlock Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualTitile}" />
                    </StackPanel>
                </Button>

            </StackPanel>
        </Border>
        <TabControl
            Name="mainSetTable"
            Grid.Row="2"
            Background="#FCFCFC"
            BorderThickness="0">
            <TabControl.Resources>
                <Style TargetType="{x:Type TabItem}">
                    <Setter Property="Visibility" Value="Collapsed" />
                </Style>
            </TabControl.Resources>
            <!--  耗材管理TabItem  -->
            <TabItem>
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="320" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="5">
                        <StackPanel
                            Margin="0,0,0,10"
                            HorizontalAlignment="Center"
                            Orientation="Horizontal">
                            <Button
                                Width="70"
                                Height="35"
                                Click="addConsClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsAdd}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="inConsClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsIn}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="outConsClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsOut}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="removeConsClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsRemove}"
                                Style="{StaticResource ExitButtonStyle}" />
                        </StackPanel>

                        <Border
                            Background="#F0F0F0"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1">
                            <Border.CornerRadius>
                                <CornerRadius>5</CornerRadius>
                            </Border.CornerRadius>
                            <ListBox
                                x:Name="consumableList"
                                Margin="8"
                                Background="Transparent"
                                BorderThickness="0"
                                FontSize="14"
                                Foreground="#333333"
                                SelectionChanged="ConsumableList_SelectionChanged"
                                SelectionMode="Single" />
                        </Border>
                    </StackPanel>

                    <Grid Grid.Column="1" Margin="5">
                        <StackPanel>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsbasicInfo}" />

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsName}" />
                                        <TextBox
                                            x:Name="consName"
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.name, Mode=TwoWay}" />


                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsSerialNum}" />
                                        <TextBox
                                            x:Name="consID"
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.id, Mode=TwoWay}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsType}" />
                                        <ComboBox
                                            x:Name="consType"
                                            Grid.Column="4"
                                            SelectedIndex="{Binding consNew.type, Mode=TwoWay}"
                                            Style="{StaticResource InputComboBoxStyle}">
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTypeMicroplate}" />
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTypeReservoir}" />
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTypeTipBox}" />
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTypeOther}" />
                                        </ComboBox>
                                    </Grid>
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Margin="0,8,0,0"
                                            VerticalAlignment="Top"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsDescription}" />
                                        <TextBox
                                            x:Name="consDescription"
                                            Grid.Column="1"
                                            AcceptsReturn="True"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.description, Mode=TwoWay}"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingCons2D}" />

                                    <!--  使用自定义绘图控件，绑定ConsData到consNew  -->
                                    <local:ConsumableCanvas
                                        Height="250"
                                        Margin="5"
                                        Background="#F9F9F9"
                                        ConsData="{Binding consNew}" />
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                    <ScrollViewer Grid.Column="2" Margin="5">
                        <StackPanel>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchSetting}" />

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchPosition}" />
                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <ToggleButton
                                                x:Name="consNW"
                                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchNW}"
                                                IsChecked="{Binding consNew.NW, Converter={StaticResource NumberToBooleanConverter}, Mode=TwoWay}"
                                                Style="{StaticResource DirectionButtonStyle}" />
                                            <ToggleButton
                                                x:Name="consSW"
                                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchSW}"
                                                IsChecked="{Binding consNew.SW, Converter={StaticResource NumberToBooleanConverter}, Mode=TwoWay}"
                                                Style="{StaticResource DirectionButtonStyle}" />
                                            <ToggleButton
                                                x:Name="consNE"
                                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchNE}"
                                                IsChecked="{Binding consNew.NE, Converter={StaticResource NumberToBooleanConverter}, Mode=TwoWay}"
                                                Style="{StaticResource DirectionButtonStyle}" />
                                            <ToggleButton
                                                x:Name="consSE"
                                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNotchSE}"
                                                IsChecked="{Binding consNew.SE, Converter={StaticResource NumberToBooleanConverter}, Mode=TwoWay}"
                                                Style="{StaticResource DirectionButtonStyle}" />
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsDimension}" />
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNumWells}" />
                                        <TextBox
                                            Grid.Column="1"
                                            IsReadOnly="True"
                                            Style="{StaticResource InputTextBoxStyle}">
                                            <TextBox.Text>
                                                <MultiBinding Converter="{StaticResource RowColumnMultiplierConverter}">
                                                    <Binding Path="consNew.numRows" />
                                                    <Binding Path="consNew.numColumns" />
                                                </MultiBinding>
                                            </TextBox.Text>
                                        </TextBox>
                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNumRows}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.numRows, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsNumColumns}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.numColumns, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsLength}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.labL, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsWidth}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.labW, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsHeight}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.labH, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsA1XDistance}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.distanceRowY, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsA1YDistance}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.distanceColumnX, Mode=TwoWay}" />
                                    </Grid>
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsRowSpacing}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.distanceRow, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsColumnSpacing}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.distanceColumn, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsOffsetGripperPos}" />

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsOffsetX}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.offsetX, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsOffsetY}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.offsetY, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsGripperX}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.RobotX, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsGripperY}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.RobotY, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsGripperZ}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.RobotZ, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsWellSpec}" />



                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsMaxWellCapacity}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.labVolume, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsMaxUsableVolume}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.consMaxAvaiVol, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsWellDepth}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.consDep, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTopShape}" />
                                        <ComboBox
                                            Grid.Column="4"
                                            SelectedIndex="{Binding consNew.topShape, Mode=TwoWay}"
                                            Style="{StaticResource InputComboBoxStyle}">
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsCylinder}" />
                                            <ComboBoxItem Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsCube}" />
                                        </ComboBox>

                                    </Grid>

                                    <!--  第四行：底部高度（单独一行，跨列）  -->
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            x:Name="consTopRdiusBlock"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTopRadius}" />
                                        <TextBox
                                            x:Name="consTopRdiusBox"
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.topRadius, Mode=TwoWay}" />
                                        <TextBlock
                                            x:Name="consTopLongBlock"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTopLength}" />
                                        <TextBox
                                            x:Name="consTopLongBox"
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.topUpperX, Mode=TwoWay}" />
                                        <TextBlock
                                            x:Name="consTopWidthBlock"
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTopWidth}" />
                                        <TextBox
                                            x:Name="consTopWidthBox"
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.topUpperY, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsPipetteTipParams}" />

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsMaxCap}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPMAXCapacity, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsMaxUsableCap}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPMAXAvailable, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTipTotalLgth}" />
                                        <TextBox
                                            Grid.Column="1"
                                            IsReadOnly="True"
                                            Style="{StaticResource InputTextBoxStyle}">
                                            <TextBox.Text>
                                                <MultiBinding Converter="{StaticResource HightAddplierConverter}">
                                                    <Binding Path="consNew.TIPHeadHeight" />
                                                    <Binding Path="consNew.TIPConeLength" />
                                                </MultiBinding>
                                            </TextBox.Text>
                                        </TextBox>
                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTipHeadHt}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPHeadHeight, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTipConeLgth}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPConeLength, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsConeMaxRadius}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPMAXRadius, Mode=TwoWay}" />
                                    </Grid>
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsConeMinRadius}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPMINRadius, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingConsTipMountPressDpth}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding consNew.TIPDepthOFComp, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </TabItem>
            <TabItem>
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="320" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="5">
                        <StackPanel
                            Margin="0,0,0,10"
                            HorizontalAlignment="Center"
                            Orientation="Horizontal">
                            <Button
                                Width="70"
                                Height="35"
                                Click="addLiquidClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidAdd}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="inLiquidClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidIn}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="outLiquidClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidOut}"
                                Style="{StaticResource AccentButtonStyle}" />
                            <Button
                                Width="70"
                                Height="35"
                                Margin="5,0,0,0"
                                Click="removeLiquidClick"
                                Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidRemove}"
                                Style="{StaticResource ExitButtonStyle}" />
                        </StackPanel>

                        <Border
                            Background="#F0F0F0"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1">
                            <Border.CornerRadius>
                                <CornerRadius>5</CornerRadius>
                            </Border.CornerRadius>
                            <ListBox
                                x:Name="liquidumableList"
                                Margin="8"
                                Background="Transparent"
                                BorderThickness="0"
                                FontSize="14"
                                Foreground="#333333"
                                SelectionChanged="LiquidumableList_SelectionChanged"
                                SelectionMode="Single" />
                        </Border>
                    </StackPanel>

                    <Grid Grid.Column="1" Margin="5">
                        <StackPanel>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidbasicInfo}" />

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidName}" />
                                        <TextBox
                                            x:Name="liquidName"
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.name, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDescription}" />
                                        <TextBox
                                            x:Name="liquidDescription"
                                            Grid.Column="4"
                                            AcceptsReturn="True"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.description, Mode=TwoWay}"
                                            TextWrapping="Wrap" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidAspirationParams}" />
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidPreAspAir}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.aisAirB, Mode=TwoWay}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidPostAspAir}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.aisAirA, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidAspSpeed}"/>
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.aisSpeed, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidAspDelay}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.aisDelay, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDisttoWellBot}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.aisDistance, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                            <Border
                                Margin="0,0,0,15"
                                Background="White"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1">
                                <Border.CornerRadius>
                                    <CornerRadius>5</CornerRadius>
                                </Border.CornerRadius>
                                <StackPanel Margin="15">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Medium"
                                        Foreground="#FA4616"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDispensingParams}" />
                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidPreDispAir}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.disAirB, Mode=TwoWay}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidPostDispAir}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.disAirA, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDispSpeed}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.disSpeed, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Column="3"
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDispDelay}" />
                                        <TextBox
                                            Grid.Column="4"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.disDelay, Mode=TwoWay}" />
                                    </Grid>

                                    <Grid Margin="12,12,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontSize="13"
                                            Foreground="#666666"
                                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingLiquidDisttoWellBot}" />
                                        <TextBox
                                            Grid.Column="1"
                                            Style="{StaticResource InputTextBoxStyle}"
                                            Text="{Binding liquidNew.disDistance, Mode=TwoWay}" />
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Grid>
            </TabItem>
            <TabItem>
                <ScrollViewer Margin="10" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!--  标题栏  -->
                        <TextBlock
                            Margin="0,10,0,20"
                            FontSize="18"
                            FontWeight="Bold"
                            Foreground="{StaticResource PrimaryRed}"
                            Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualControlCenter}" />
                        <!--  第一部分：板位定标（XYZ）  -->
                        <Border
                            Margin="0,0,0,20"
                            Background="White"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="5">
                            <StackPanel Margin="15">
                                <TextBlock
                                    Margin="0,0,0,15"
                                    FontSize="16"
                                    FontWeight="Medium"
                                    Foreground="{StaticResource PrimaryRed}"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualPlatePositionCalibration}" />

                                <!--  1. 板位选择（12个板位按钮）  -->
                                <TextBlock
                                    Margin="0,0,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualSelectPlatePosition}" />
                                <UniformGrid
                                    Margin="0,0,0,15"
                                    HorizontalAlignment="Left"
                                    Columns="3"
                                    Rows="4">
                                    <!--  动态生成12个板位按钮  -->
                                    <ToggleButton
                                        x:Name="btnPlate10"
                                        Click="PlateButton_Click"
                                        Content="P10"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="10" />
                                    <ToggleButton
                                        x:Name="btnPlate11"
                                        Click="PlateButton_Click"
                                        Content="P11"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="11" />
                                    <ToggleButton
                                        x:Name="btnPlate12"
                                        Click="PlateButton_Click"
                                        Content="P12"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="12" />
                                    <ToggleButton
                                        x:Name="btnPlate7"
                                        Click="PlateButton_Click"
                                        Content="P7"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="7" />
                                    <ToggleButton
                                        x:Name="btnPlate8"
                                        Click="PlateButton_Click"
                                        Content="P8"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="8" />
                                    <ToggleButton
                                        x:Name="btnPlate9"
                                        Click="PlateButton_Click"
                                        Content="P9"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="9" />
                                    <ToggleButton
                                        x:Name="btnPlate4"
                                        Click="PlateButton_Click"
                                        Content="P4"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="4" />
                                    <ToggleButton
                                        x:Name="btnPlate5"
                                        Click="PlateButton_Click"
                                        Content="P5"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="5" />
                                    <ToggleButton
                                        x:Name="btnPlate6"
                                        Click="PlateButton_Click"
                                        Content="P6"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="6" />
                                    <ToggleButton
                                        x:Name="btnPlate1"
                                        Click="PlateButton_Click"
                                        Content="P1"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="1" />
                                    <ToggleButton
                                        x:Name="btnPlate2"
                                        Click="PlateButton_Click"
                                        Content="P2"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="2" />
                                    <ToggleButton
                                        x:Name="btnPlate3"
                                        Click="PlateButton_Click"
                                        Content="P3"
                                        Style="{StaticResource DirectionButtonStyle}"
                                        Tag="3" />
                                </UniformGrid>

                                <!--  2. 当前板位XYZ坐标显示与输入  -->
                                <TextBlock
                                    Margin="0,15,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualCurrentPlateCoordinates}" />
                                <Grid Margin="0,0,0,15">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualXCoordinate}" />
                                    <TextBox
                                        x:Name="txtPlateX"
                                        Grid.Column="1"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="0.00" />

                                    <TextBlock
                                        Grid.Column="3"
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualYCoordinate}" />
                                    <TextBox
                                        x:Name="txtPlateY"
                                        Grid.Column="4"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="0.00" />

                                    <TextBlock
                                        Grid.Column="6"
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualZCoordinate}" />
                                    <TextBox
                                        x:Name="txtPlateZ"
                                        Grid.Column="7"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="0.00" />
                                </Grid>

                                <!--  3. 移动与保存按钮  -->
                                <StackPanel
                                    Margin="0,10,0,5"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                                    <Button
                                        x:Name="btnMoveToPlate"
                                        Click="MoveToPlate_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualMovetoPlatePosition}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnDownToPlate"
                                        Margin="10,0,0,0"
                                        Click="DownToPlate_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualMoveZaxis}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnSavePlatePos"
                                        Margin="10,0,0,0"
                                        Click="SavePlatePos_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualSaveCoordinates}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnResetX"
                                        Margin="10,0,0,0"
                                        Click="btnResetX_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualResetX}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnResetY"
                                        Margin="10,0,0,0"
                                        Click="btnResetY_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualResetY}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnResetZ"
                                        Margin="10,0,0,0"
                                        Click="btnResetZ_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualResetZ}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                </StackPanel>

                                <!--  4. 微调功能  -->
                                <TextBlock
                                    Margin="0,20,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualCoordinateFineAdjustment}" />
                                <Grid Margin="0,0,0,10" VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="150" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!--  微调数值输入  -->
                                    <TextBox
                                        x:Name="txtFineAdjust"
                                        Width="120"
                                        HorizontalAlignment="Left"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="1.00" />

                                    <!--  方向控制按钮  -->
                                    <StackPanel
                                        Grid.Column="1"
                                        Margin="0,-20,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Orientation="Horizontal">
                                        <!--  X方向  -->
                                        <StackPanel Margin="0,0,20,0">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                HorizontalAlignment="Center"
                                                FontSize="12"
                                                Foreground="#666666"
                                                Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualXDirection}" />
                                            <StackPanel Orientation="Horizontal">
                                                <ToggleButton
                                                    Click="FineXClose_Click"
                                                    Content="←"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="X-" />
                                                <ToggleButton
                                                    Click="FineXAdd_Click"
                                                    Content="→"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="X+" />
                                            </StackPanel>
                                        </StackPanel>

                                        <!--  Y方向  -->
                                        <StackPanel Margin="0,0,20,0">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                HorizontalAlignment="Center"
                                                FontSize="12"
                                                Foreground="#666666"
                                                Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualYDirection}" />
                                            <StackPanel Orientation="Horizontal">
                                                <ToggleButton
                                                    Click="FineYAdd_Click"
                                                    Content="↑"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="Y+" />
                                                <ToggleButton
                                                    Click="FineYClose_Click"
                                                    Content="↓"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="Y-" />
                                            </StackPanel>
                                        </StackPanel>

                                        <!--  Z方向  -->
                                        <StackPanel>
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                HorizontalAlignment="Center"
                                                FontSize="12"
                                                Foreground="#666666"
                                                Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualZDirection}" />
                                            <StackPanel Orientation="Horizontal">
                                                <ToggleButton
                                                    Click="FineZAdd_Click"
                                                    Content="↑"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="Z+" />
                                                <ToggleButton
                                                    Click="FineZClose_Click"
                                                    Content="↓"
                                                    Style="{StaticResource FlowButtonStyle}"
                                                    Tag="Z-" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>
                        <!--  第二部分：移液器控制  -->
                        <Border
                            Margin="0,0,0,20"
                            Background="White"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="5">
                            <StackPanel Margin="15">
                                <TextBlock
                                    Margin="0,0,0,15"
                                    FontSize="16"
                                    FontWeight="Medium"
                                    Foreground="{StaticResource PrimaryRed}"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualPipetteControl}" />

                                <!--  1. 吸液参数  -->
                                <TextBlock
                                    Margin="0,0,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualAspirationParams}" />
                                <Grid Margin="0,0,0,15">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualVolume}" />
                                    <TextBox
                                        x:Name="txtAspirateVol"
                                        Grid.Column="1"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="50" />

                                    <TextBlock
                                        Grid.Column="3"
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualSpeed}" />
                                    <TextBox
                                        x:Name="txtAspirateSpeed"
                                        Grid.Column="4"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="100" />
                                </Grid>
                                <Button
                                    x:Name="btnAspirate"
                                    Margin="0,0,10,15"
                                    HorizontalAlignment="Left"
                                    Click="Aspirate_Click"
                                    Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualAspirate}"
                                    Style="{StaticResource AccentButtonStyle}" />

                                <!--  2. 注液参数  -->
                                <TextBlock
                                    Margin="0,0,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualDispensingParams}" />
                                <Grid Margin="0,0,0,15">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="20" />
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualVolume}" />
                                    <TextBox
                                        x:Name="txtDispenseVol"
                                        Grid.Column="1"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="50" />

                                    <TextBlock
                                        Grid.Column="3"
                                        VerticalAlignment="Center"
                                        FontSize="13"
                                        Foreground="#666666"
                                        Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualSpeed}" />
                                    <TextBox
                                        x:Name="txtDispenseSpeed"
                                        Grid.Column="4"
                                        Style="{StaticResource InputTextBoxStyle}"
                                        Text="100" />
                                </Grid>
                                <Button
                                    x:Name="btnDispense"
                                    Margin="0,0,10,15"
                                    HorizontalAlignment="Left"
                                    Click="Dispense_Click"
                                    Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualDispense}"
                                    Style="{StaticResource AccentButtonStyle}" />

                                <!--  3. 基础功能按钮  -->
                                <StackPanel
                                    Margin="0,0,0,15"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                                    <Button
                                        x:Name="btnEjectTip"
                                        Margin="0,0,10,0"
                                        Click="EjectTip_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualEjectTip}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnResetPipette"
                                        Margin="0,0,10,0"
                                        Click="ResetPipette_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualReset}"
                                        Style="{StaticResource AccentButtonStyle}" />

                                </StackPanel>
                                <!--  4. 定标挡位设置  -->
                                <TextBlock
                                    Margin="0,15,0,8"
                                    FontSize="14"
                                    Foreground="#666666"
                                    Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualCalibrationGear}" />

                                <!--  定标操作按钮  -->
                                <StackPanel
                                    Margin="0,0,0,15"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                                    <Button
                                        x:Name="btnGetCalibration"
                                        Margin="0,0,10,0"
                                        Click="GetCalibration_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualGetCalibration}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                    <Button
                                        x:Name="btnSetCalibration"
                                        Click="SetCalibration_Click"
                                        Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualSetCalibration}"
                                        Style="{StaticResource AccentButtonStyle}" />
                                </StackPanel>

                                <!--  14个定标挡位的Label和Input组合  -->
                                <ScrollViewer
                                    Height="200"
                                    Margin="0,0,0,10"
                                    HorizontalScrollBarVisibility="Auto"
                                    VerticalScrollBarVisibility="Auto">
                                    <!--  核心：设置 Columns="7" 强制每行显示7个元素  -->
                                    <UniformGrid Margin="0,0,10,0" Columns="7">
                                        <!--  回程差  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualBacklash}" />
                                            <TextBox
                                                x:Name="txtCalib0"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  10挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="10" />
                                            <TextBox
                                                x:Name="txtCalib10"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  20挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="20" />
                                            <TextBox
                                                x:Name="txtCalib20"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  50挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="50" />
                                            <TextBox
                                                x:Name="txtCalib50"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  100挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="100" />
                                            <TextBox
                                                x:Name="txtCalib100"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  200挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="200" />
                                            <TextBox
                                                x:Name="txtCalib200"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  300挡（第1行第7个）  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="300" />
                                            <TextBox
                                                x:Name="txtCalib300"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  400挡（第2行第1个）  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="400" />
                                            <TextBox
                                                x:Name="txtCalib400"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  500挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="500" />
                                            <TextBox
                                                x:Name="txtCalib500"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  600挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="600" />
                                            <TextBox
                                                x:Name="txtCalib600"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  700挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="700" />
                                            <TextBox
                                                x:Name="txtCalib700"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  800挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="800" />
                                            <TextBox
                                                x:Name="txtCalib800"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  900挡  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="900" />
                                            <TextBox
                                                x:Name="txtCalib900"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>

                                        <!--  1000挡（第2行第7个）  -->
                                        <StackPanel Width="120" Margin="0,0,20,10">
                                            <TextBlock
                                                Margin="0,0,0,5"
                                                FontSize="13"
                                                Foreground="#666666"
                                                Text="1000" />
                                            <TextBox
                                                x:Name="txtCalib1000"
                                                Width="100"
                                                Margin="-20,0,0,0"
                                                Style="{StaticResource InputTextBoxStyle}"
                                                Text="0.00" />
                                        </StackPanel>
                                    </UniformGrid>
                                </ScrollViewer>

                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        <!--  关闭按钮  -->
        <Button
            Grid.Row="3"
            Width="70"
            Height="35"
            Margin="0,10"
            Click="ExitSetClick"
            Content="{Binding Source={x:Static local:ResourceHelper.Instance}, Path=SettingManualClose}"
            Style="{StaticResource AccentButtonStyle}" />
    </Grid>
</UserControl>